<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="config.FaqNotice" >
	
	<select id="showFaq" parameterType="java.util.Map" resultType="faqNoticeDTO">
		select * from faq
	</select>
	
	<select id="showNotice" parameterType="java.util.Map" resultType="faqNoticeDTO">
		select * from notice n join emp e on n.emp_no = e.emp_no
	</select>
	
	<select id="totalCount" parameterType="java.util.Map" resultType="int">
		select count(*) from notice
		<if test="searchWord != null">
				where ${searchColumn} LIKE '%' || #{searchWord} || '%'
		</if>
	</select>
	
	<select id="noticeSearch" parameterType="java.util.Map" resultType="faqNoticeDTO">
		select * from
		(select a.*,rownum r from(
		select * from notice)a)
		where  r between #{start} and #{end}
	</select>
	
	
	<select id="noticeView" parameterType="java.util.Map" resultType="faqNoticeDTO">
		select r.*,name from notice r join emp e on r.emp_no = e.emp_no where no=#{no} order by no desc 
	</select>
	
	
	<insert id="faqInsert" parameterType="faqNoticeDTO" >
		insert into u_ask_planit values
		(seq_u_ask_planit_ask_no.nextval,#{id},#{content},
		seq_u_ask_planit_ask_no.currval,DEFAULT,DEFAULT,DEFAULT,SYSDATE,#{title})
	</insert>
	
	
	
	
	
	
	
	
	
</mapper>
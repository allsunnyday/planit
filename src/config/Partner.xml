<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 
	*변경사항*
	mapper 파일의 완전한 경로 . xml은 생략
	ibatis와는 다르게 id값에 '.'를 사용하지 못함
 -->
<mapper namespace="config.Pember">
	<select id="PartnerIsLogin" parameterType="java.util.Map" resultType="int">
		<!-- select count(*) from member where id='user1' and pwd='1234'; -->
		
		SELECT COUNT(*) FROM partner WHERE p_id=#{p_id} AND pwd=#{pwd}
	</select>
	<select id="PartnerInformation" parameterType="java.util.Map" resultType="PartnerDTO" >
		SELECT * FROM partner WHERE p_id=#{p_id}
	</select>
<!-- 중복검사 -->
	<select id="partnerIsDuplicate" parameterType="java.util.Map" resultType="int">
	SELECT COUNT(*) FROM partner WHERE p_id=#{p_id} 
	
	</select> 

	
	<insert id="PartnerIsJoin" parameterType="PartnerDTO">
		<!--insert into partner(p_id,business_no,pwd,firstimage,regidate,tel,address) values  -->
		insert into partner(p_id,business_no,pwd,email,firstimage,regidate,tel,address) values(#{p_id},#{business_no},#{pwd},#{email},'NOIMAGE',SYSDATE,#{tel},#{address})
	
	</insert>

	
	

</mapper>